<!DOCTYPE html>
<html>
  <head>
    <title>Colorifier Demo</title>
    <link href="/shared.css" rel="stylesheet" type="text/css" />
    <script src="/core.js"></script>
    <script type="text/javascript">
      Lovely(["colorifier"], function(Colorifier) {
        var $     = Lovely.module('dom');
        var theme = document.location.href.split('?')[1];
        if (theme) {
          Colorifier.Options.theme = theme;
          Colorifier.initialize();

          $(document.documentElement).addClass(theme);
        }

        $(function() {
          $('#theme-switch').value(theme);
          $('#theme-switch').on('change', function() {
            document.location = document.location.href.split('?')[0] + '?' + this.value();
          });
        });
      });
    </script>
    <style type="text/css">
      html.dark {
        background: #000;
      }
      html.dark body {
        background: #222;
        color:      white;
      }
      html.dark h1, html.dark h2 {
        color: rgba(255,255,255,0.6);
      }
      #theme-switch {
        float: right;
        margin-top: .75em;
      }
    </style>
  </head>
  <body>
    <h1>Colorifier Demo
      <select id="theme-switch">
        <option value="light">Light Theme</option>
        <option value="dark">Dark Theme</option>
      </select>
    </h1>

    <h2>JavaScript</h2>
<pre data-lang="javascript">
var some    = "string"; // simple comment
var bool    = true;     /* true comment */
var regex   = /som(weird.*\/*?)reg[exp]/;
var integer = 111;
var float   = 1.1;

function boo_hoo(tro, lo, lo) {
  for (var i=0; i < some.length; i++) {
    if (bool) {
      tro = new Number(lo + lo);
    }
  }

  return tro.lo() + lo;
}
</pre>

    <h2>CSS/SASS/SCSS</h2>
<pre data-lang="css">
/* some comment */
div#boo-hoo .to[lo="lo"] span {
  border : 1px solid brown;
  padding: .5em;
  margin:  2.2pt;
  z-index: -222;
  background-image: url('/tololo.png') no-repeat center center;
  background-color: #ffffff;
}
</pre>

    <h2>HTML/XML</h2>
<pre data-lang="html">
&lt;div id="boo-hoo" class="trololo">
  Some text
  &lt;!-- &lt;b>some comment&lt;/b> -->
&lt;/div>
&lt;script src="boo/hoo.js">&lt;/script>
&lt;script type="text/javascript">
  var some = "string";
&lt;/script>
&lt;style type="text/css">
  #boo-hoo {
    border: 1px solid #ddd;
  }
&lt;/style>
</pre>

    <h2>CoffeeScript</h2>
<pre data-lang="coffee">
#
# Some dummy class
#
class Boo extends Hoo
  constructor: (boo, hoo)->
    super(boo, hoo)

    for i in boo where i > 1
      for j of hoo
        @something = j + i

    re   = /some|regexp/
    num  = 1.0 + 11
    none = null || undefined || false

    return @method(@something)

</pre>

    <h2>Ruby/Rails</h2>
<pre data-lang="ruby">
#
# Some controller, by some osom dude
#
class ApplicationController < ActionController::Base

  before_filter :require_login

  def index
    @stuff = Stuff.find(:all)

    respond_to do |f|
      f.html # just rendering the index
      f.json { render json: @stuff }
    end
  end

  def create
    @stuff = Stuff.new(params[:stuff])

    if @stuff.save
      flash[:notice] = "Your stuff was successfully created"
      redirect_to @stuff
    else
      render 'new'
    end
  end

private

  def require_login
    raise AccessDeniend if !logged_in?
  end

=begin
  def some_commented_method
    'it did some unnecessary stuff and was commented out'
  end
=end
end

def User
  include Mongoid::Document

  has_many   :posts
  belongs_to :group

  validates_presence_of   :name
  validates_uniqueness_of :name

  attr_accessible :name

  scope :active, where(status: 'active')
end
</pre>

    <h2>ERB</h2>
<pre data-lang="erb">
&lt;div id="posts"&gt;
  &lt;% @posts.each do |post| %&gt;
    &lt;%= div_for post do %&gt;
      &lt;div class="title"&gt;&lt;%= link_to post.title, post %&gt;&lt;/div&gt;
      &lt;div class="body">&lt;%= simple_format post.body %&gt;&lt;/div&gt;
    &lt;% end %&gt;
  &lt;% end %&gt;
&lt;/div&gt;
</pre>

    <h2>Unsupported Language</h2>
<pre data-lang="unsupportedlanguage">
class SomeClass
  def boo_hoo
    # trololo
  end
end
</pre>

    <h2>Loooooooong Strings</h2>
<pre data-lang="undefined">
Seometimes people write
some annoyingly looooong, loooooooong, loooooooooooooong, I mean really loooooooooooooooooooong string
</pre>

    <p class="white-space"></p>
  </body>
</html>